В ходе тестирования некоторой гипотезы целевой группе была предложена новая механика оплаты услуг на сайте, у контрольной группы оставалась базовая механика.
Необходимо проанализировать итоги проведенного А/В тестирования и сделать вывод, стоит ли запускать новую механику оплаты на всех пользователей.

## Описание данных

* groups.csv - информация о принадлежности пользователя к контрольной или экспериментальной группе (А – контроль, B – целевая группа).
* groups_add.csv - дополнительная информация с пользователями, которая получена спустя 2 дня после передачи данных.
* active_studs.csv - информация о пользователях, которые зашли на платформу в дни проведения эксперимента.
* checks.csv - информация об оплатах пользователей в дни проведения эксперимента.

## Исследовательский анализ данных (EDA)

В ходе исследовательского анализа имеющихся данных установлены следующие особенности:
* Количество участников в группах А и В сильно различается;

 ![image](https://github.com/S1lencena/Statistic_A-B_testing/assets/140109674/e94f82cd-534c-41fd-96d4-c0d89c6f7dd0)
 ![image](https://github.com/S1lencena/Statistic_A-B_testing/assets/140109674/7cbdcd98-edd5-4f1d-addd-bf9edf01c333)

* 149 пользователей не заходили на платформу, но при этом совершили оплату. Для анализа эксперимента данные по этим пользователям не были учтены;
* В тестовой группе В много оплат на сумму 1900 и 1900,0001, при этом в контрольной группе А такие значения отсутствуют.
  ![image](https://github.com/S1lencena/Statistic_A-B_testing/assets/140109674/26fd3da3-9c02-40b2-b5e4-f9fb7d1f4ee1)

## Оценка результатов А/В теста, проверка гипотез

Так как нас интересует прежде всего, увеличился ли доход после изменения механики оплаты на сайте, то будем смотреть на следующие метрики, связанные с доходом:

* **ARPU**, или средняя выручка на одного пользователя;
* **ARPPU**, или средняя выручка на одного платящего пользователя;
* **CR**, или доля пользователей, которые совершили целевое действие (в нашем случае, покупку), в общем количестве активных пользователей.

![image](https://github.com/S1lencena/Statistic_A-B_testing/assets/140109674/0e49a319-b38b-476d-8e18-f65357a0ea4d)

`**ARPU**`

Так как ранее мы выяснили, что распределение выборки у нас не нормальное (это видно по графику выше и в результате проверки тестом Шапиро Уилка), а так же имеются выбросы в обеих группах, то применение классических параметрических методов может быть менее надежным, поэтому проверим статистическую значимость различий через метод бутстрап. Данный метод позволяет оценивать распределение без предположений о нормальности и может обеспечить более точные оценки доверительных интервалов и стандартных ошибок в условиях ненормальных распределений и выбросов.
**Используем бутстрап**      
H0 - средняя выручка на пользователя ARPU в двух группах равна.    
H1 - средняя выручка на пользователя ARPU в двух группах различается. 
![image](https://github.com/S1lencena/Statistic_A-B_testing/assets/140109674/48d686ea-9f76-4416-9267-e8d620e636ce)
![image](https://github.com/S1lencena/Statistic_A-B_testing/assets/140109674/94620af0-77e9-43fe-a5c3-29b383c35908)

В результате мы получили, что доверительный интервал не включает в себя 0, а значит мы можем отклонить нулевую гипотезу, и средняя выручка на пользователя ARPU в группах А и В различается.

`**ARPPU**`

По той же причине (см. выше) для проверки будем использовать метод бутстрап.
H0 - средняя выручка на платящего пользователя ARPPU в двух группах равна.    
H1 - средняя выручка на платящего пользователя ARPPU в двух группах различается. 
![image](https://github.com/S1lencena/Statistic_A-B_testing/assets/140109674/a2d61aa6-554e-4c89-b078-fd2c91a5c677)
![image](https://github.com/S1lencena/Statistic_A-B_testing/assets/140109674/1e37068b-1073-4665-870e-48d86fc3e1fa)

В результате получили, что доверительный интервал не включает в себя 0, а значит мы можем отклонить нулевую гипотезу, и средняя выручка на платящего пользователя ARPPU в группах А и В различается.

`**CR**`

Для проверки статистической значимости различий конверсии CR в группах будем использовать хи-квадрат, так как метрика CR является дискретной и категориальной. Данный метод хорошо подходит для анализа влияния одной категориальной переменной на другую.

**Используем тест Хи-квадрат**

H0 - доля совершивших покупку пользователей в общем количестве пользователей не зависит от новой механики оплаты услуг на сайте, следовательно, распределения в группах А и В идентичны.    
H1 - доля совершивших покупку пользователей в общем количестве пользователей зависит от новой механики оплаты услуг на сайте, следовательно, распределения в группах А и В различаются. 









